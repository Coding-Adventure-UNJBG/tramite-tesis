-- En la consola de HIVE, adaptar y ejecutar, creacion de las tablas
CREATE TABLE tramite_tesis_LANDING_TMP.rol(
  cod_rol INT,
  nombre STRING,
  permisos STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/rol';

CREATE TABLE tramite_tesis_LANDING_TMP.usuario(
  cod_usuario INT,
  cod_rol INT,
  nombre STRING,
  apellidos STRING,
  dni STRING,
  password STRING,
  fecha_nacimiento STRING,
  telefono STRING,
  correo STRING,
  direccion STRING,
  grado_academico STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/usuario';

CREATE TABLE tramite_tesis_LANDING_TMP.tipo_documento(
  cod_doc INT,
  nombre STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/tipo_documento';

CREATE TABLE tramite_tesis_landing_tmp.folio(
  cod_folio INT,
  cod_usuario INT,
  fecha STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/folio';

CREATE TABLE tramite_tesis_landing_tmp.detalle_folio(
  cod_detalle_folio INT,
  cod_folio INT,
  cod_doc INT,
  nombreArchivo STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/detalle_folio';

CREATE TABLE tramite_tesis_landing_tmp.tramite(
  cod_tramite INT,
  cod_usuario INT,
  estado STRING,
  fecha_registro STRING,
  cod_asesor_propuesto INT,
  versionIncial STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/tramite';

CREATE TABLE tramite_tesis_landing_tmp.comite(
  cod_comite INT,
  num_integrantes INT
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/comite';

CREATE TABLE tramite_tesis_landing_tmp.integrantes_comite(
  cod_comite INT,
  cod_usuario_comite INT
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/integrantes_comite';

CREATE TABLE tramite_tesis_landing_tmp.revision_comite(
  cod_revision_comite INT,
  cod_comite INT,
  cod_tramite INT,
  fecha STRING,
  observacion STRING,
  corregido STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/revision_comite';

CREATE TABLE tramite_tesis_landing_tmp.tesis(
  cod_tesis INT,
  cod_usuario INT,
  cod_tramite INT,
  estado STRING,
  titulo STRING,
  fecha_inicio STRING,
  fecha_fin STRING,
  versionIncial STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/tesis';

CREATE TABLE tramite_tesis_landing_tmp.asesor(
  cod_asesor INT,
  cod_tesis INT,
  cod_usuario INT
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/asesor';

CREATE TABLE tramite_tesis_landing_tmp.revision_asesor(
  cod_revision_asesor INT,
  cod_asesor INT,
  cod_tesis INT,
  fecha STRING,
  observacion STRING,
  corregido STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/revision_asesor';

CREATE TABLE tramite_tesis_landing_tmp.jurado(
  cod_jurado INT,
  cod_tesis INT,
  cod_usuario INT
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/jurado';

CREATE TABLE tramite_tesis_landing_tmp.rol_jurado(
  cod_rol_jurado INT,
  cod_jurado INT,
  tipo_rol STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/rol_jurado';

CREATE TABLE tramite_tesis_landing_tmp.revision_jurado(
  cod_revision_jurado INT,
  cod_jurado INT,
  cod_tesis INT,
  fecha STRING,
  observacion STRING,
  corregido STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '|'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION '/user/cloudera/grupo01/database/tramite_tesis_landing_tmp/revision_jurado';
